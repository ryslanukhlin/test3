{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _regeneratorRuntime from \"C:/Users/\\u0420\\u0443\\u0441\\u043B\\u0430\\u043D/Desktop/NestAndNextShopPizza/frontend/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/\\u0420\\u0443\\u0441\\u043B\\u0430\\u043D/Desktop/NestAndNextShopPizza/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { Button, Card, CardActions, CardContent, CardMedia, Typography } from '@material-ui/core';\nimport React from 'react';\nimport { useAction } from '../hooks/useAction';\nimport { useTypedSelector } from '../hooks/useTypeSelector';\nimport style from \"../style/catalog.module.scss\";\nimport { useRouter } from \"next/dist/client/router\";\nimport getConfig from \"next/config\";\n\nvar _getConfig = getConfig(),\n    publicRuntimeConfig = _getConfig.publicRuntimeConfig;\n\nvar CatalogItem = function CatalogItem(_ref) {\n  var pizza = _ref.pizza;\n  var router = useRouter();\n\n  var _useAction = useAction(),\n      addPizzaToBasket = _useAction.addPizzaToBasket,\n      removePizzaToBasket = _useAction.removePizzaToBasket;\n\n  var pizzaBasket = useTypedSelector(function (state) {\n    return state.basketReducer.basketPizza;\n  });\n  var isAddBasket = pizzaBasket.filter(function (item) {\n    return item._id === pizza._id;\n  }).length === 0;\n\n  var goToIdPizza = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(id) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return router.push({\n                pathname: '/pizza/[id]',\n                query: {\n                  id: id\n                }\n              });\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function goToIdPizza(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxs(Card, {\n    className: style.card,\n    children: [/*#__PURE__*/_jsx(CardMedia, {\n      className: style.CardImage,\n      title: \"Paella dish\",\n      image: publicRuntimeConfig.backendUri + '/' + pizza.image\n    }), /*#__PURE__*/_jsxs(CardContent, {\n      className: style.cardContent,\n      children: [/*#__PURE__*/_jsx(Typography, {\n        variant: \"h6\",\n        children: pizza.name\n      }), /*#__PURE__*/_jsx(Typography, {\n        paragraph: true,\n        children: pizza.description\n      })]\n    }), /*#__PURE__*/_jsxs(CardActions, {\n      children: [/*#__PURE__*/_jsxs(Typography, {\n        variant: \"button\",\n        style: {\n          flexGrow: 1\n        },\n        children: [\"Price: \", pizza.price]\n      }), isAddBasket ? /*#__PURE__*/_jsx(Button, {\n        onClick: addPizzaToBasket.bind(null, pizza),\n        children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\"\n      }) : /*#__PURE__*/_jsx(Button, {\n        onClick: removePizzaToBasket.bind(null, pizza._id),\n        children: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"\n      }), /*#__PURE__*/_jsx(Button, {\n        onClick: goToIdPizza.bind(null, pizza._id),\n        children: \"\\u041F\\u043E\\u0434\\u0440\\u043E\\u0431\\u043D\\u0435\\u0435\"\n      })]\n    })]\n  });\n};\n\nexport default CatalogItem;","map":null,"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"C:/Users/\\u0420\\u0443\\u0441\\u043B\\u0430\\u043D/Desktop/NestAndNextShopPizza/frontend/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/\\u0420\\u0443\\u0441\\u043B\\u0430\\u043D/Desktop/NestAndNextShopPizza/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\\\u0420\\u0443\\u0441\\u043B\\u0430\\u043D\\\\Desktop\\\\NestAndNextShopPizza\\\\frontend\\\\component\\\\CatalogItem.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { Button, Card, CardActions, CardContent, CardMedia, Typography } from '@material-ui/core';\nimport React from 'react';\nimport { useAction } from '../hooks/useAction';\nimport { useTypedSelector } from '../hooks/useTypeSelector';\nimport style from \"../style/catalog.module.scss\";\nimport { useRouter } from \"next/dist/client/router\";\nimport getConfig from \"next/config\";\n\nvar _getConfig = getConfig(),\n    publicRuntimeConfig = _getConfig.publicRuntimeConfig;\n\nvar CatalogItem = function CatalogItem(_ref) {\n  _s();\n\n  var pizza = _ref.pizza;\n  var router = useRouter();\n\n  var _useAction = useAction(),\n      addPizzaToBasket = _useAction.addPizzaToBasket,\n      removePizzaToBasket = _useAction.removePizzaToBasket;\n\n  var pizzaBasket = useTypedSelector(function (state) {\n    return state.basketReducer.basketPizza;\n  });\n  var isAddBasket = pizzaBasket.filter(function (item) {\n    return item._id === pizza._id;\n  }).length === 0;\n\n  var goToIdPizza = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(id) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return router.push({\n                pathname: '/pizza/[id]',\n                query: {\n                  id: id\n                }\n              });\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function goToIdPizza(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxDEV(Card, {\n    className: style.card,\n    children: [/*#__PURE__*/_jsxDEV(CardMedia, {\n      className: style.CardImage,\n      title: \"Paella dish\",\n      image: publicRuntimeConfig.backendUri + '/' + pizza.image\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(CardContent, {\n      className: style.cardContent,\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        children: pizza.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(Typography, {\n        paragraph: true,\n        children: pizza.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 17\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(CardActions, {\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"button\",\n        style: {\n          flexGrow: 1\n        },\n        children: [\"Price: \", pizza.price]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, _this), isAddBasket ? /*#__PURE__*/_jsxDEV(Button, {\n        onClick: addPizzaToBasket.bind(null, pizza),\n        children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 21\n      }, _this) : /*#__PURE__*/_jsxDEV(Button, {\n        onClick: removePizzaToBasket.bind(null, pizza._id),\n        children: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 21\n      }, _this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: goToIdPizza.bind(null, pizza._id),\n        children: \"\\u041F\\u043E\\u0434\\u0440\\u043E\\u0431\\u043D\\u0435\\u0435\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 9\n  }, _this);\n};\n\n_s(CatalogItem, \"t4QtrhCF6SdmKIgJpQ/+V5nFV5A=\", false, function () {\n  return [useRouter, useAction, useTypedSelector];\n});\n\n_c = CatalogItem;\nexport default CatalogItem;\n\nvar _c;\n\n$RefreshReg$(_c, \"CatalogItem\");","map":{"version":3,"sources":["C:/Users/Руслан/Desktop/NestAndNextShopPizza/frontend/component/CatalogItem.tsx"],"names":["Button","Card","CardActions","CardContent","CardMedia","Typography","React","useAction","useTypedSelector","style","useRouter","getConfig","publicRuntimeConfig","CatalogItem","pizza","router","addPizzaToBasket","removePizzaToBasket","pizzaBasket","state","basketReducer","basketPizza","isAddBasket","filter","item","_id","length","goToIdPizza","id","push","pathname","query","card","CardImage","backendUri","image","cardContent","name","description","flexGrow","price","bind"],"mappings":"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","sourcesContent":["import { Button, Card, CardActions, CardContent, CardMedia, Typography } from '@material-ui/core'\r\nimport React from 'react'\r\nimport { useAction } from '../hooks/useAction'\r\nimport { useTypedSelector } from '../hooks/useTypeSelector'\r\nimport style from \"../style/catalog.module.scss\"\r\nimport { TPizza } from '../types/pizza.type'\r\nimport {useRouter} from \"next/dist/client/router\";\r\nimport getConfig from \"next/config\";\r\n\r\nconst { publicRuntimeConfig } = getConfig();\r\n\r\nconst CatalogItem: React.FC<{pizza: TPizza}> = ({pizza}) => {\r\n    const router = useRouter()\r\n    const { addPizzaToBasket, removePizzaToBasket } = useAction()\r\n    const pizzaBasket = useTypedSelector(state => state.basketReducer.basketPizza)\r\n    const isAddBasket = pizzaBasket.filter(item => item._id === pizza._id).length === 0\r\n\r\n    const goToIdPizza = async (id: string): Promise<void> => {\r\n        await router.push({\r\n            pathname: '/pizza/[id]',\r\n            query: { id }\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Card className={style.card}>\r\n            <CardMedia \r\n                className={style.CardImage}\r\n                title=\"Paella dish\"\r\n                image={publicRuntimeConfig.backendUri + '/' + pizza.image}\r\n            />\r\n            <CardContent className={style.cardContent}>\r\n                <Typography variant=\"h6\">\r\n                    {pizza.name}\r\n                </Typography>\r\n                <Typography paragraph>\r\n                    {pizza.description}\r\n                </Typography>\r\n            </CardContent>\r\n            <CardActions>\r\n                <Typography variant=\"button\" style={{flexGrow: 1}}>\r\n                    Price: {pizza.price}\r\n                </Typography>\r\n                {isAddBasket ?\r\n                    <Button onClick={addPizzaToBasket.bind(null, pizza)}>Добавить</Button>\r\n                    :\r\n                    <Button onClick={removePizzaToBasket.bind(null, pizza._id)}>Удалить</Button>\r\n                }\r\n                <Button onClick={goToIdPizza.bind(null, pizza._id)}>Подробнее</Button>\r\n            </CardActions>\r\n        </Card>\r\n    )\r\n}\r\n\r\nexport default CatalogItem"]},"metadata":{},"sourceType":"module"}